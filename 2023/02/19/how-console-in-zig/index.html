<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>How to console in zig?</title><link rel="canonical" href="https://blog.nvimer.org/2023/02/19/how-console-in-zig/"><meta name="description" content="Preface Zig is a general-purpose programming language and toolchain for maintaining robust, optimal and reusable software.  Consolezig has very useful"><meta name="keywords" content="jinzhongjia,jin"><meta name="author" content="Jin Zhongjia"><meta property="og:site_name" content="Jin&#39;s blog"><meta property="og:type" content="article"><meta property="og:title" content="How to console in zig?"><meta property="og:description" content="Preface Zig is a general-purpose programming language and toolchain for maintaining robust, optimal and reusable software.  Consolezig has very useful"><meta property="og:url" content="https://blog.nvimer.org/2023/02/19/how-console-in-zig/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="How to console in zig?"><meta name="twitter:description" content="Preface Zig is a general-purpose programming language and toolchain for maintaining robust, optimal and reusable software.  Consolezig has very useful"><meta name="twitter:url" content="https://blog.nvimer.org/2023/02/19/how-console-in-zig/"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/skeleton.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/prism-dark.css"><link rel="stylesheet" href="/css/prism-line-numbers.css"><link rel="stylesheet" href="/css/katex.min.css"><link rel="icon" type="image/png" href="/images/favicon.ico"><style>a:not(.icon){text-decoration-color:#0fa0ce;background-image:linear-gradient(to bottom,rgba(0,0,0,0) 50%,#0fa0ce 50%)}blockquote{border-left:8px solid #0fa0ce}.nanobar .bar{background:#0fa0ce}.button.button-primary:focus,.button.button-primary:hover,button.button-primary:focus,button.button-primary:hover,input[type=button].button-primary:focus,input[type=button].button-primary:hover,input[type=reset].button-primary:focus,input[type=reset].button-primary:hover,input[type=submit].button-primary:focus,input[type=submit].button-primary:hover{background-color:#0fa0ce;border-color:#0fa0ce}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{border:1px solid #0fa0ce}</style><script src="/js/pic.min.js" defer></script><script src="/js/search.min.js" defer></script><script src="/js/katex.min.js" defer></script><script src="/js/auto-render.min.js" defer></script><script>document.addEventListener("DOMContentLoaded",(function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})}))</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container"><div class="row"><div><div class="row"><div class="two columns" style="max-width:50px"><h1 class="mt-2 mode"><div onclick="setDarkMode(!0)" id="darkBtn">üåë</div><div onclick="setDarkMode(!1)" id="lightBtn" class="hidden">‚òÄÔ∏è</div><script>function setDarkMode(e){var t=document.getElementById("darkBtn"),l=document.getElementById("lightBtn");e?(l.style.display="block",t.style.display="none",localStorage.setItem("preferredTheme","dark")):(l.style.display="none",t.style.display="block",localStorage.removeItem("preferredTheme")),document.body.classList.toggle("darkmode")}"dark"==localStorage.getItem("preferredTheme")&&setDarkMode(!0)</script></h1></div><div class="six columns ml-1"><h1 class="mt-2">Hi Folks.</h1></div><div class="twelve columns"><div class="row"><div class="nine columns left"><a href="/">Home</a> <a href="/archives" class="ml">Archives</a> <a href="/About" class="ml">About</a> <a href="mailto:jinzhongjia@qq.com" target="_blank" class="ml">Email</a></div></div><hr style="margin-bottom:2.6rem"></div></div><div class="trans"><h2>How to console in zig?</h2><h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><blockquote><p>Zig is a general-purpose programming language and toolchain for maintaining robust, optimal and reusable software.</p></blockquote><h2 id="Console"><a href="#Console" class="headerlink" title="Console"></a>Console</h2><p><code>zig</code> has very useful standard library, but it not provide a convenient function to console.</p><p>Yes, you may say we can use <code>std.log</code> or <code>std.debug.print</code>, but I dont recommand that.</p><p>Let me tell you why?</p><p>Zig has no built-in print function or statement.</p><p><strong>Why is there no built-in function like C‚Äôs <code>printf</code>?</strong></p><blockquote><p>One answer is that, unlike C, Zig doesn‚Äôt need to special-case the printing function. In C, <code>printf</code> could not be implemented as a normal function without losing its special compile-time checks (i.e., the compiler can check that the number of arguments passed to <code>printf</code> matches the number of <code>%</code> placeholders in the format string).</p></blockquote><p>About more, you can read this <a target="_blank" rel="noopener" href="https://zig.news/kristoff/where-is-print-in-zig-57e9">article</a></p><h2 id="Do-something"><a href="#Do-something" class="headerlink" title="Do something"></a>Do something</h2><p>Now, let us wrap a simple buffered print function!</p><pre class="line-numbers language-zig" data-language="zig"><code class="language-zig"><span class="token keyword">fn</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">comptime</span> str<span class="token punctuation">:</span> <span class="token class-name"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">const</span> <span class="token builtin-type keyword">u8</span></span><span class="token punctuation">)</span> <span class="token class-name"><span class="token builtin-type keyword">void</span></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> stdout_file <span class="token operator">=</span> std<span class="token punctuation">.</span>io<span class="token punctuation">.</span><span class="token function">getStdOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> buffer <span class="token operator">=</span> std<span class="token punctuation">.</span>io<span class="token punctuation">.</span><span class="token function">bufferedWriter</span><span class="token punctuation">(</span>stdout_file<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> stdout <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    stdout<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">catch</span> <span class="token keyword">unreachable</span><span class="token punctuation">;</span>
    buffer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">catch</span> <span class="token keyword">unreachable</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>We use stdlib get stdout writter and use bufferedwriter to write string into it, strictly speaking, the code we listed above is actually wrong, because we will flush it at once, and no error handling that means if error occur the whole program will crash!</p><p>If we want a no-buffered function, you can just do like this:</p><pre class="line-numbers language-zig" data-language="zig"><code class="language-zig"><span class="token keyword">fn</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">comptime</span> str<span class="token punctuation">:</span> <span class="token class-name"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">const</span> <span class="token builtin-type keyword">u8</span></span><span class="token punctuation">)</span> <span class="token class-name"><span class="token builtin-type keyword">void</span></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> stdout_file <span class="token operator">=</span> std<span class="token punctuation">.</span>io<span class="token punctuation">.</span><span class="token function">getStdOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    stdout_file<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">catch</span> <span class="token keyword">unreachable</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// this function we also didn't handle error!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a class="classtest-link" href="/tags/zig/" rel="tag">zig</a> ‚Äî Feb 19, 2023</p></div><div class="row mt-2"><h3>Search</h3><div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div><div style="margin-top:1.5rem"><ul id="result"></ul></div></div><div class="row mt-2"><div class="eight columns"><p id="madewith">Made with ‚ù§ and <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration:none" rel="noreferrer" aria-label="Hexo.io"><svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg> </a>at <a href="https://en.wikipedia.org/wiki/China" target="_blank" rel="noreferrer">China</a>.</p></div><div class="four columns mb-3 posisi"><a class="ml-0 footer-link icon" href="https://github.com/jinzhongjia" target="_blank" style="text-decoration:none" rel="noreferrer" aria-label="GitHub"><svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></div></div></div></div></div><script src="/js/nanobar.min.js"></script><script>var options={classname:"nanobar",id:"myNanobar"},nanobar=new Nanobar(options);nanobar.go(30),nanobar.go(76),nanobar.go(100)</script></body></html>